---
import Button from "@components/shared/Button.astro";
import Container from "@components/shared/Container.astro";
import Paragraph from "@components/shared/Paragraph.astro";
import Results from '@components/sections/shortcut/Results.astro';
import ChatComponent from "@components/sections/shortcut/ChatComponent.jsx";
---

<section class="relative pt-32 lg:pt-36">
    <Container className={"flex flex-col lg:flex-row gap-10 lg:gap-12"}>
        <div class="absolute w-full lg:w-1/2 inset-y-0 lg:right-0 ">
            <span class="absolute -left-6 md:left-4 top-24 lg:top-28 w-24 h-24 rotate-90 skew-x-12 rounded-3xl bg-green-400 blur-xl opacity-60 lg:opacity-95 lg:block hidden"></span>
            <span class="absolute right-4 bottom-12 w-24 h-24 rounded-3xl bg-primary blur-xl opacity-80"></span>
        </div>
        <span class="w-4/12 lg:w-2/12 aspect-square bg-gradient-to-tr from-primary to-green-400 absolute -top-5 lg:left-0 rounded-full skew-y-12 blur-2xl opacity-40 skew-x-12 rotate-90"></span>
        <div class="relative flex flex-col items-center text-center lg:text-left lg:py-7 xl:py-8 
        lg:items-start lg:max-w-none max-w-3xl mx-auto lg:mx-0 lg:flex-1 lg:w-1/2">
            
            <h1 class="text-3xl/tight sm:text-4xl/tight md:text-5xl/tight xl:text-6xl/tight
             font-bold text-heading-1">
             Social Media  <span class="text-transparent bg-clip-text bg-gradient-to-br from-indigo-600 from-20% via-primary via-30% to-green-600">Marketing</span> is the Best Ever.
            </h1>
            <Paragraph className="mt-8">
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolores repellat perspiciatis aspernatur quis voluptatum porro incidunt, 
                libero sequi quos eos velit
            </Paragraph>
            <button data-confetti-button>Celebrate!</button>
            <!--
            <div class="mt-10  w-full flex max-w-md mx-auto lg:mx-0">
                <div class="flex sm:flex-row flex-col gap-5 w-full">
                    <div class="py-1 pl-6 w-full pr-1 flex gap-3 items-center text-heading-3 shadow-lg shadow-box-shadow
                      border border-box-border bg-box-bg rounded-full ease-linear focus-within:bg-body  focus-within:border-primary">
                        <span class="min-w-max pr-2 border-r border-box-border">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16"> <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/> <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/> </svg>                                                                 
                        </span>
                        <input type="text" name="" id="data-search-input" placeholder="shortcut to import libraries" class="w-full py-3 outline-none bg-transparent"/>
                        <Button idClass="data-search-button" variant={"primary"} className={"min-w-max text-white"}>
                            <span class="hidden sm:flex relative z-[5]">
                                Search
                            </span>
                            <span class="flex sm:hidden relative z-[5]">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                                </svg>                                      
                            </span>
                        </Button>
                    </div>
                </div>
            </div>
            -->
        </div>

        <div class="flex flex-1 lg:w-1/2 lg:h-auto relative lg:max-w-none lg:mx-0 mx-auto max-w-3xl">
            <img src="/images/image1.webp" alt="garaje88 - shortcuts" width="2350" height="2350" class="lg:absolute lg:w-full lg:h-full rounded-3xl object-cover lg:max-h-none max-h-96">
        </div>
    </Container>
</section>

<script>

    

    //import confetti from 'canvas-confetti';
    //const buttons = document.querySelectorAll('[data-confetti-button]');
    /*buttons.forEach((button) => {
        button.addEventListener('click', () => confetti());
    });*/

    const input = document.getElementById('data-search-input') as HTMLInputElement
    const buttons = document.querySelectorAll('[data-search-button]');
    buttons.forEach((button) => {
        button.addEventListener('click', () => handleSendMessage());
    });

    async function handleSendMessage (){
        console.log(123, input.value);

        
        /*const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer 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`,
                'OpenAI-Organization': 'org-Zoq0Vo0ZOAvCp7XF7d7KYVfD'
            },
            body: JSON.stringify({
                messages: [
                    { role: 'system', content: 'You are a helpful assistant.' },
                    { role: 'user', content: input },
                ],
                model: "gpt-3.5-turbo"
            }),
        });
        console.log(response.data.choices);
        */
    }
</script>